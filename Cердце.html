<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>–ö–≤–µ—Å—Ç üíò</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      background: #000;
      color: white;
      font-family: 'Segoe UI', sans-serif;
      overflow: hidden;
      height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    #container {
      max-width: 700px;
      width: 100%;
      padding: 20px;
      text-align: center;
    }
    .question {
      font-size: 28px;
      margin-bottom: 20px;
      max-width: 600px;
      transition: all 0.5s ease;
    }
    input {
      padding: 12px;
      width: 300px;
      font-size: 18px;
      border: none;
      border-radius: 8px;
      margin-bottom: 10px;
    }
    button {
      padding: 12px 24px;
      font-size: 18px;
      border: none;
      border-radius: 10px;
      background: crimson;
      color: white;
      cursor: pointer;
      transition: 0.3s;
    }
    button:hover {
      background: darkred;
    }
    canvas {
      position: fixed;
      top: 0;
      left: 0;
      display: none;
      z-index: 5;
    }
    #note {
      margin-bottom: 10px;
      color: hotpink;
      font-weight: bold;
      min-height: 24px;
    }
  </style>
</head>
<body>

<div id="container">
  <div class="question" id="question">–ó–∞–≥—Ä—É–∑–∫–∞...</div>
  <div id="note"></div>
  <input type="text" id="answerInput" placeholder="–ù–∞–ø–∏—à–∏ —Å–≤–æ–π –æ—Ç–≤–µ—Ç..." autocomplete="off" />
  <br/>
  <button id="nextBtn">–ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å</button>
</div>

<canvas id="canvas"></canvas>

<script>
const questions = [
  "–ö–∞–∫ –≤–∞—Å –∑–æ–≤—É—Ç, –≥–æ—Å—Ç—å –∏–∑ —á–∞—Ç–∞ ?",
  "–ö–∞–∫–æ–µ –º–µ—Å—Ç–æ —Ç—ã –º–µ—á—Ç–∞–µ—à—å –ø–æ—Å–µ—Ç–∏—Ç—å?",
  "–ö–∞–∫–∞—è –ø–µ—Å–Ω—è –Ω–∞–ø–æ–º–∏–Ω–∞–µ—Ç —Ç–µ–±–µ –æ–±–æ –º–Ω–µ?",
  "–ö–∞–∫–æ–π –º–æ–º–µ–Ω—Ç –≤ –∂–∏–∑–Ω–∏ —Ç—ã —Å—á–∏—Ç–∞–µ—à—å —Å–∞–º—ã–º –ª—É—á—à–∏–º?",
  "–ï—Å–ª–∏ –±—ã –º–æ–∂–Ω–æ –±—ã–ª–æ –≤—ã–±—Ä–∞—Ç—å —Å—É–ø–µ—Ä—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å ‚Äî —á—Ç–æ –±—ã —ç—Ç–æ –±—ã–ª–æ?",
  "–ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Ç–µ–±—è –ø–æ-–Ω–∞—Å—Ç–æ—è—â–µ–º—É —Å—á–∞—Å—Ç–ª–∏–≤—ã–º?",
  "–ï—Å–ª–∏ –±—ã —É —Ç–µ–±—è –±—ã–ª–∞ –≤–æ–ª—à–µ–±–Ω–∞—è –ø–∞–ª–æ—á–∫–∞, –∫–∞–∫–æ–µ –±—ã–ª–æ –±—ã —Ç–≤–æ–µ –∂–µ–ª–∞–Ω–∏–µ?",
  "–ö–∞–∫–∏–µ —Å–ª–æ–≤–∞ —Ç—ã —Ö–æ—á–µ—à—å —Å–ª—ã—à–∞—Ç—å —á–∞—â–µ?",
  "–û —á—ë–º —Ç—ã –º–µ—á—Ç–∞–µ—à—å?"
];

let current = 0;
const answers = [];

const container = document.getElementById("container");
const questionEl = document.getElementById("question");
const inputEl = document.getElementById("answerInput");
const nextBtn = document.getElementById("nextBtn");
const note = document.getElementById("note");
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");

function showQuestion() {
  questionEl.style.opacity = 0;
  note.textContent = "";
  inputEl.disabled = false;

  setTimeout(() => {
    questionEl.textContent = questions[current];
    questionEl.style.opacity = 1;
    inputEl.value = "";
    inputEl.focus();
  }, 300);
}

nextBtn.onclick = () => {
  const answer = inputEl.value.trim();

  if (current === questions.length - 1) {
    const correctAnswer = "–æ —Ç–µ–±–µ";
    if (answer.toLowerCase() === correctAnswer) {
      note.textContent = "–ú–æ–ª–æ–¥–µ—Ü! –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç";
      answers.push(answer);
      current++;
      setTimeout(startFinale, 800);
    } else {
      note.textContent = "–û—Ç–≤–µ—Ç –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π! –û–ë–û –ú–ù–ï –¢–´ –ú–ï–ß–¢–ê–ï–®–¨! –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: –û –¢–ï–ë–ï. –ò–°–ü–†–ê–í–õ–Ø–ô –ë–´–°–¢–†–ï–ï–ï–ï–ï–ï–ï–ï–ï–ï–ï–ï–ï–ï–ï–ï";
      inputEl.value = "";
      inputEl.focus();
    }
    return;
  }

  if (answer === "") {
    alert("–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –Ω–∞–ø–∏—à–∏ –æ—Ç–≤–µ—Ç!");
    return;
  }

  answers.push(answer);
  current++;

  if (current < questions.length) {
    showQuestion();
  } else {
    startFinale();
  }
};

showQuestion();

function startFinale() {
  container.style.display = "none";
  canvas.style.display = "block";

  let w, h;

  function resize() {
    w = window.innerWidth;
    h = window.innerHeight;
    canvas.width = w;
    canvas.height = h;
  }

  resize();
  window.addEventListener('resize', resize);

  const messages = [
    "I love you üíï", "–¢—ã –∫–∞–∫ Wi-Fi ‚Äî –∫–æ–≥–¥–∞ —Ä—è–¥–æ–º, –≤—Å—ë —Ä–∞–±–æ—Ç–∞–µ—Ç –ª—É—á—à–µ üí´",
    "Our Anniversary üíñ", "–¢—ã –Ω–µ –ø–æ–¥–∞—Ä–æ–∫, –Ω–æ —è —Ç–µ–±—è –Ω–µ –≤–µ—Ä–Ω—É",
    "You make my heart smile üòä", "–¢—ã –∫–∞–∫ –ø–ª–∞–Ω –ë. –ù–∏–∫—Ç–æ –Ω–µ –ø–æ–Ω–∏–º–∞–µ—Ç, –∑–∞—á–µ–º, –Ω–æ –ø—É—Å—Ç—å –±—É–¥–µ—Ç",
    "I love you so much! üíò", "Love ya! üíú", "My honey bunch üíû"
  ];

  const imageSources = [
    "https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT2EqaBaF1H8Jvv2dZotEc85xTab4zU4y4f1w&s"
  ];

  const images = [];
  imageSources.forEach(src => {
    const img = new Image();
    img.src = src;
    images.push(img);
  });

  class FloatingText {
    constructor() { this.reset(); }
    reset() {
      this.text = messages[Math.floor(Math.random() * messages.length)];
      this.x = Math.random() * w;
      this.y = -20 - Math.random() * 100;
      this.opacity = Math.random() * 0.5 + 0.5;
      this.size = Math.random() * 24 + 18;
      this.speedY = Math.random() * 8 + 10;
      this.color = `rgba(255, ${100 + Math.floor(Math.random() * 155)}, ${200 + Math.floor(Math.random() * 55)}, ${this.opacity})`;
    }
    update() { this.y += this.speedY; if (this.y > h + 50) this.reset(); }
    draw() {
      ctx.font = `${this.size}px 'Segoe UI', sans-serif`;
      ctx.fillStyle = this.color;
      ctx.shadowColor = "hotpink";
      ctx.shadowBlur = 10;
      ctx.fillText(this.text, this.x, this.y);
      ctx.shadowBlur = 0;
    }
  }

  class FloatingImage {
    constructor() { this.reset(); }
    reset() {
      this.image = images[Math.floor(Math.random() * images.length)];
      this.x = Math.random() * w;
      this.y = -50 - Math.random() * 200;
      this.size = Math.random() * 60 + 40; // —É–≤–µ–ª–∏—á–µ–Ω–æ
      this.speedY = Math.random() * 4 + 2; // —É—Å–∫–æ—Ä–µ–Ω–æ
      this.opacity = Math.random() * 0.5 + 0.5;
    }
    update() { this.y += this.speedY; if (this.y > h + 50) this.reset(); }
    draw() {
      ctx.globalAlpha = this.opacity;
      ctx.drawImage(this.image, this.x, this.y, this.size, this.size);
      ctx.globalAlpha = 1.0;
    }
  }

  class Star {
    constructor() { this.reset(); }
    reset() {
      this.x = Math.random() * w;
      this.y = Math.random() * h;
      this.size = Math.random() * 2;
      this.alpha = Math.random();
      this.speed = Math.random() * 0.5 + 0.1;
    }
    update() { this.y += this.speed; if (this.y > h) this.reset(); }
    draw() {
      ctx.beginPath();
      ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2);
      ctx.fillStyle = `rgba(255,255,255,${this.alpha})`;
      ctx.fill();
    }
  }

  const floatingTexts = [], floatingImages = [], stars = [];
  for (let i = 0; i < 100; i++) stars.push(new Star());
  for (let i = 0; i < 40; i++) floatingTexts.push(new FloatingText());
  for (let i = 0; i < 20; i++) floatingImages.push(new FloatingImage());

  function animate() {
    ctx.clearRect(0, 0, w, h);
    stars.forEach(s => { s.update(); s.draw(); });
    floatingImages.forEach(img => { img.update(); img.draw(); });
    floatingTexts.forEach(t => { t.update(); t.draw(); });
    requestAnimationFrame(animate);
  }

  animate();
}
</script>

</body>
</html>
